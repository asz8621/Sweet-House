(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c9a60f2"],{"9fc6":function(t,s,a){"use strict";var i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("section",{class:"similar"!==t.cardClassName?"p-4":""},[a("div",{staticClass:"container"},[a("div",{staticClass:"headline py-4"},[a("h2",[t._v(t._s(t.cardTitle))]),"similar"!==t.cardClassName?a("a",{staticClass:"large-size headline-link btn btn-outline-main",attrs:{href:"#"},on:{click:function(s){return t.$router.push("products")}}},[t._v("更多商品")]):t._e(),a("hr",{staticClass:"headline-bottom"})])]),a("div",{staticClass:"container"},[a("div",{staticClass:"swiper-card"},[t.cardData.length?a("swiper",{staticClass:"swiper",attrs:{options:"similar"!==t.cardClassName?t.indexSwiperOption:t.similarSwiperOption}},[t._l(t.cardData,(function(s){return a("swiper-slide",{key:""+s.id+t.cardClassName},[a("div",{staticClass:"swiper-card-body"},[a("div",{staticClass:"card-img cursor-pointer",on:{click:function(a){return t.getProduct(s.id,t.cardClassName)}}},[a("img",{staticClass:"img-fluid",attrs:{src:s.imageUrl[0],alt:""}})]),a("h4",{staticClass:"swiper-card-title"},[t._v(t._s(s.title))]),a("div",{staticClass:"swiper-card-price"},[a("span",{staticClass:"narrow"},[t._v("NT$")]),t._v(t._s(t._f("thousands")(s.price))+" ")]),a("button",{staticClass:"large-size btn btn-main w-100 d-flex justify-content-center align-items-center",attrs:{type:"button",disabled:""!==t.status.btnLoading},on:{click:function(a){return a.preventDefault(),t.addCart(s.id)}}},[a("span",[t._v("加入購物車")]),t.status.btnLoading===s.id?a("div",{staticClass:"spinner-border spinner-border-sm ml-2",attrs:{role:"status"}},[a("span",{staticClass:"sr-only"},[t._v("Loading...")])]):t._e()])])])})),"similar"!==t.cardClassName?a("div",{staticClass:"swiper-pagination",class:t.cardClassName+"-pagination",attrs:{slot:"pagination"},slot:"pagination"}):t._e()],2):t._e(),"similar"!==t.cardClassName?a("div",{staticClass:"swiper-button-prev",class:t.cardClassName+"-prev",attrs:{slot:"button-prev"},slot:"button-prev"}):t._e(),"similar"!==t.cardClassName?a("div",{staticClass:"swiper-button-next",class:t.cardClassName+"-next",attrs:{slot:"button-next"},slot:"button-next"}):t._e()],1)])])},e=[],r=(a("99af"),a("4de4"),{props:["cardClassName","cardData","cardTitle","carts"],data:function(){return{status:{btnLoading:""},similarSwiperOption:{slidesPerView:1,slidesPerGroup:1,loopFillGroupWithBlank:!0,breakpoints:{991:{slidesPerView:4,slidesPerGroup:4},768:{slidesPerView:3,slidesPerGroup:3},540:{slidesPerView:2,slidesPerGroup:2}}},indexSwiperOption:{slidesPerView:1,slidesPerGroup:1,loop:!0,loopFillGroupWithBlank:!0,breakpoints:{991:{slidesPerView:4,slidesPerGroup:4},768:{slidesPerView:3,slidesPerGroup:3},540:{slidesPerView:2,slidesPerGroup:2}},pagination:{el:".".concat(this.cardClassName,"-pagination"),clickable:!0},navigation:{nextEl:".".concat(this.cardClassName,"-next"),prevEl:".".concat(this.cardClassName,"-prev")}}}},methods:{addCart:function(t){var s=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.status.btnLoading=t;var i="".concat("https://course-ec-api.hexschool.io","/api/").concat("fafb5ae3-81cd-4ad3-9cd2-824d4284b57c","/ec/shopping"),e="post",r=a,c="add",n=this.carts.filter((function(s){return t===s.product.id}));n.length>0&&(e="patch",r+=n[0].quantity,c="edit");var o={product:t,quantity:r};this.$http[e](i,o).then((function(){s.$bus.$emit("getcart",c),s.status.btnLoading=""})).catch((function(t){s.$toast.error("".concat(t.response.data.errors),{icon:"fas fa-times"}),s.status.btnLoading=""}))},getProduct:function(t,s){"similar"===s?this.$emit("jumpProductEmit",t):this.$router.push("/product/".concat(t))}}}),c=r,n=a("2877"),o=Object(n["a"])(c,i,e,!1,null,"dc146630",null);s["a"]=o.exports},d6ae:function(t,s,a){"use strict";a.r(s);var i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"about"},[t._m(0),a("section",{staticClass:"mb-6"},[a("card",{attrs:{"card-class-name":"new","card-title":"新品上市","card-data":t.latestProducts,carts:t.carts}}),a("card",{attrs:{"card-class-name":"hot","card-title":"熱銷商品","card-data":t.hotProduct,carts:t.carts}})],1),a("section",{staticClass:"subscription bg-img"},[a("div",{staticClass:"subscription-all"},[a("h4",{staticClass:"subscription-title"},[t._v("香甜傳遞")]),a("p",{staticClass:"subscription-text"},[t._v("弄甜屋每季會推出新產品以及專屬優惠碼，立即輸入信箱讓香甜傳達到您心裡！")]),a("form",{staticClass:"subscription-form-group",attrs:{action:""}},[a("ValidationProvider",{ref:"sendEDM",staticClass:"input-group mb-3",attrs:{tag:"div",rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(s){var i=s.errors,e=s.classes;return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control h-100",class:e,attrs:{type:"email",name:"信箱",placeholder:"請輸入電子信箱"},domProps:{value:t.form.email},on:{input:function(s){s.target.composing||t.$set(t.form,"email",s.target.value)}}}),a("span",{staticClass:"subscription-errormsg invalid-feedback"},[t._v(t._s(i[0]))]),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"large-size btn btn-main",attrs:{type:"button"},on:{click:function(s){return s.preventDefault(),t.sendEDM(s)}}},[t._v("訂閱")])])]}}])})],1)])])])},e=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("section",{staticClass:"content mb-6"},[a("div",{staticClass:"carousel slide",attrs:{id:"carouselExampleIndicators","data-ride":"carousel"}},[a("div",{staticClass:"carousel-inner"},[a("div",{staticClass:"carousel-item active"},[a("div",{staticClass:"bg-img img1"})]),a("div",{staticClass:"carousel-item"},[a("div",{staticClass:"bg-img img2"})]),a("div",{staticClass:"carousel-item"},[a("div",{staticClass:"bg-img img3"})])]),a("a",{staticClass:"carousel-control-prev",attrs:{href:"#carouselExampleIndicators",role:"button","data-slide":"prev"}},[a("span",{staticClass:"carousel-control-prev-icon",attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"sr-only"},[t._v("Previous")])]),a("a",{staticClass:"carousel-control-next",attrs:{href:"#carouselExampleIndicators",role:"button","data-slide":"next"}},[a("span",{staticClass:"carousel-control-next-icon",attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"sr-only"},[t._v("Next")])])])])}],r=(a("99af"),a("4de4"),a("fb6a"),a("9fc6")),c={props:["carts"],components:{card:r["a"]},data:function(){return{tempProduct:{},hotProduct:{},latestProducts:{},form:{email:""}}},mounted:function(){this.getProduct()},methods:{getProduct:function(){var t=this;this.$store.dispatch("updateLoading",!0);var s="".concat("https://course-ec-api.hexschool.io","/api/").concat("fafb5ae3-81cd-4ad3-9cd2-824d4284b57c","/ec/products");this.$http.get(s).then((function(s){t.tempProduct=s.data.data,t.latestProducts=t.tempProduct.slice(0,5),t.hotProduct=t.tempProduct.filter((function(t){return t.options.isHot})),t.$store.dispatch("updateLoading",!1)})).catch((function(){t.$toast.error("資料讀取異常，請洽客服人員",{icon:"fas fa-times"})}))},sendEDM:function(){0===this.$refs.sendEDM.errors.length&&""!==this.form.email&&(this.$toast.success("電子報傳送成功"),this.form.email="",this.$refs.sendEDM.reset())}}},n=c,o=a("2877"),l=Object(o["a"])(n,i,e,!1,null,null,null);s["default"]=l.exports},fb6a:function(t,s,a){"use strict";var i=a("23e7"),e=a("861d"),r=a("e8b5"),c=a("23cb"),n=a("50c4"),o=a("fc6a"),l=a("8418"),d=a("b622"),u=a("1dde"),p=a("ae40"),m=u("slice"),f=p("slice",{ACCESSORS:!0,0:0,1:2}),v=d("species"),h=[].slice,C=Math.max;i({target:"Array",proto:!0,forced:!m||!f},{slice:function(t,s){var a,i,d,u=o(this),p=n(u.length),m=c(t,p),f=c(void 0===s?p:s,p);if(r(u)&&(a=u.constructor,"function"!=typeof a||a!==Array&&!r(a.prototype)?e(a)&&(a=a[v],null===a&&(a=void 0)):a=void 0,a===Array||void 0===a))return h.call(u,m,f);for(i=new(void 0===a?Array:a)(C(f-m,0)),d=0;m<f;m++,d++)m in u&&l(i,d,u[m]);return i.length=d,i}})}}]);
//# sourceMappingURL=chunk-6c9a60f2.a2347abb.js.map