{"version":3,"sources":["webpack:///./src/components/IndexCard.vue?81cc","webpack:///src/components/IndexCard.vue","webpack:///./src/components/IndexCard.vue?a7fc","webpack:///./src/components/IndexCard.vue","webpack:///./src/views/frontend/index.vue?b194","webpack:///src/views/frontend/index.vue","webpack:///./src/views/frontend/index.vue?7bf2","webpack:///./src/views/frontend/index.vue","webpack:///./node_modules/core-js/modules/es.array.slice.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","class","cardClassName","staticClass","_v","_s","cardTitle","attrs","on","$event","$router","push","_e","cardData","indexSwiperOption","similarSwiperOption","_l","item","key","getProduct","id","imageUrl","title","_f","price","status","btnLoading","preventDefault","addCart","slot","staticRenderFns","props","data","slidesPerView","slidesPerGroup","loopFillGroupWithBlank","breakpoints","991","768","540","loop","pagination","el","clickable","navigation","nextEl","prevEl","methods","mapData","length","httpMethod","qty","quantity","statusBtn","product","$http","api","cart","then","$emit","switchid","component","_m","latestProducts","carts","hotProduct","ref","scopedSlots","_u","fn","errors","classes","directives","name","rawName","value","form","expression","domProps","target","composing","$set","sendEDM","components","card","tempProduct","email","mounted","$store","dispatch","get","$refs","$toast","success","reset","$","isObject","isArray","toAbsoluteIndex","toLength","toIndexedObject","createProperty","wellKnownSymbol","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","ACCESSORS","0","1","SPECIES","nativeSlice","slice","max","Math","proto","forced","start","end","Constructor","result","n","O","k","fin","undefined","constructor","Array","prototype","call"],"mappings":"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","file":"js/chunk-6c9a60f2.a2347abb.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{class:_vm.cardClassName !== 'similar' ? 'p-4' : ''},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"headline py-4\"},[_c('h2',[_vm._v(_vm._s(_vm.cardTitle))]),(_vm.cardClassName !== 'similar')?_c('a',{staticClass:\"large-size headline-link btn btn-outline-main\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){return _vm.$router.push('products')}}},[_vm._v(\"更多商品\")]):_vm._e(),_c('hr',{staticClass:\"headline-bottom\"})])]),_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"swiper-card\"},[(_vm.cardData.length)?_c('swiper',{staticClass:\"swiper\",attrs:{\"options\":_vm.cardClassName !== 'similar' ? _vm.indexSwiperOption : _vm.similarSwiperOption}},[_vm._l((_vm.cardData),function(item){return _c('swiper-slide',{key:(\"\" + (item.id) + _vm.cardClassName)},[_c('div',{staticClass:\"swiper-card-body\"},[_c('div',{staticClass:\"card-img cursor-pointer\",on:{\"click\":function($event){return _vm.getProduct(item.id, _vm.cardClassName)}}},[_c('img',{staticClass:\"img-fluid\",attrs:{\"src\":item.imageUrl[0],\"alt\":\"\"}})]),_c('h4',{staticClass:\"swiper-card-title\"},[_vm._v(_vm._s(item.title))]),_c('div',{staticClass:\"swiper-card-price\"},[_c('span',{staticClass:\"narrow\"},[_vm._v(\"NT$\")]),_vm._v(_vm._s(_vm._f(\"thousands\")(item.price))+\" \")]),_c('button',{staticClass:\"large-size btn btn-main w-100 d-flex justify-content-center align-items-center\",attrs:{\"type\":\"button\",\"disabled\":_vm.status.btnLoading !== ''},on:{\"click\":function($event){$event.preventDefault();return _vm.addCart(item.id)}}},[_c('span',[_vm._v(\"加入購物車\")]),(_vm.status.btnLoading === item.id)?_c('div',{staticClass:\"spinner-border spinner-border-sm ml-2\",attrs:{\"role\":\"status\"}},[_c('span',{staticClass:\"sr-only\"},[_vm._v(\"Loading...\")])]):_vm._e()])])])}),(_vm.cardClassName !== 'similar')?_c('div',{staticClass:\"swiper-pagination\",class:(_vm.cardClassName + \"-pagination\"),attrs:{\"slot\":\"pagination\"},slot:\"pagination\"}):_vm._e()],2):_vm._e(),(_vm.cardClassName !== 'similar')?_c('div',{staticClass:\"swiper-button-prev\",class:(_vm.cardClassName + \"-prev\"),attrs:{\"slot\":\"button-prev\"},slot:\"button-prev\"}):_vm._e(),(_vm.cardClassName !== 'similar')?_c('div',{staticClass:\"swiper-button-next\",class:(_vm.cardClassName + \"-next\"),attrs:{\"slot\":\"button-next\"},slot:\"button-next\"}):_vm._e()],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <section :class=\"cardClassName !== 'similar' ? 'p-4' : ''\">\n      <div class=\"container\">\n        <div class=\"headline py-4\">\n          <h2>{{cardTitle}}</h2>\n          <a href=\"#\" class=\"large-size headline-link btn btn-outline-main\" @click=\"$router.push('products')\" v-if=\"cardClassName !== 'similar'\">更多商品</a>\n          <hr class=\"headline-bottom\">\n        </div>\n      </div>\n      <div class=\"container\">\n        <div class=\"swiper-card\">\n          <swiper class=\"swiper\" :options=\"cardClassName !== 'similar' ? indexSwiperOption : similarSwiperOption\" v-if=\"cardData.length\">\n            <swiper-slide v-for=\"item in cardData\" :key=\"`${item.id}${cardClassName}`\">\n              <div class=\"swiper-card-body\">\n                <div class=\"card-img cursor-pointer\" @click=\"getProduct(item.id, cardClassName)\">\n                  <img :src=\"item.imageUrl[0]\" alt=\"\" class=\"img-fluid\" />\n                </div>\n                <h4 class=\"swiper-card-title\">{{item.title}}</h4>\n                <div class=\"swiper-card-price\">\n                  <span class=\"narrow\">NT$</span>{{item.price | thousands}}\n                </div>\n\n                <button type=\"button\" class=\"large-size btn btn-main w-100 d-flex justify-content-center align-items-center\"\n                @click.prevent=\"addCart(item.id)\" :disabled=\"status.btnLoading !== '' \">\n                  <span>加入購物車</span>\n                  <div class=\"spinner-border spinner-border-sm ml-2\" role=\"status\"\n                  v-if=\"status.btnLoading === item.id\">\n                    <span class=\"sr-only\">Loading...</span>\n                  </div>\n                </button>\n              </div>\n            </swiper-slide>\n            <div class=\"swiper-pagination\" slot=\"pagination\" :class=\"`${cardClassName}-pagination`\" v-if=\"cardClassName !== 'similar'\"></div>\n          </swiper>\n            <div class=\"swiper-button-prev\" slot=\"button-prev\" :class=\"`${cardClassName}-prev`\" v-if=\"cardClassName !== 'similar'\"></div>\n            <div class=\"swiper-button-next\" slot=\"button-next\" :class=\"`${cardClassName}-next`\" v-if=\"cardClassName !== 'similar'\"></div>\n        </div>\n      </div>\n    </section>\n</template>\n\n<script>\nexport default {\n  props: ['cardClassName', 'cardData', 'cardTitle', 'carts'],\n  data() {\n    return {\n      status: {\n        btnLoading: '',\n      },\n      similarSwiperOption: { // 產品頁\n        slidesPerView: 1,\n        slidesPerGroup: 1,\n        loopFillGroupWithBlank: true,\n        breakpoints: {\n          991: {\n            slidesPerView: 4,\n            slidesPerGroup: 4,\n          },\n          768: {\n            slidesPerView: 3,\n            slidesPerGroup: 3,\n          },\n          540: {\n            slidesPerView: 2,\n            slidesPerGroup: 2,\n          },\n        },\n      },\n      indexSwiperOption: { // index\n        slidesPerView: 1,\n        // spaceBetween: 10,\n        slidesPerGroup: 1,\n        loop: true,\n        loopFillGroupWithBlank: true,\n        breakpoints: {\n          991: {\n            slidesPerView: 4,\n            slidesPerGroup: 4,\n          },\n          768: {\n            slidesPerView: 3,\n            slidesPerGroup: 3,\n          },\n          540: {\n            slidesPerView: 2,\n            slidesPerGroup: 2,\n          },\n        },\n        pagination: {\n          el: `.${this.cardClassName}-pagination`,\n          clickable: true,\n        },\n        navigation: {\n          nextEl: `.${this.cardClassName}-next`,\n          prevEl: `.${this.cardClassName}-prev`,\n        },\n      },\n    };\n  },\n  methods: {\n    addCart(id, quantity = 1) { // 加入購物車\n      this.status.btnLoading = id;\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_UUID}/ec/shopping`;\n      let httpMethod = 'post';\n      let qty = quantity; // 數量\n      let statusBtn = 'add'; // 預設 add\n      // 如果購物車有一樣的產品做更新\n      const mapData = this.carts.filter((item) => id === item.product.id);\n      if (mapData.length > 0) {\n        httpMethod = 'patch';\n        qty += mapData[0].quantity;\n        statusBtn = 'edit';\n      }\n      const cart = {\n        product: id,\n        quantity: qty,\n      };\n      this.$http[httpMethod](api, cart).then(() => {\n        this.$bus.$emit('getcart', statusBtn);\n        this.status.btnLoading = '';\n      }).catch((errors) => {\n        this.$toast.error(`${errors.response.data.errors}`, { icon: 'fas fa-times' });\n        this.status.btnLoading = '';\n      });\n    },\n    getProduct(switchid, cardClassName) {\n      if (cardClassName === 'similar') { // 如果是在產品頁點選就 emit\n        this.$emit('jumpProductEmit', switchid);\n      } else {\n        this.$router.push(`/product/${switchid}`);\n      }\n    },\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"scss\">\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IndexCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IndexCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IndexCard.vue?vue&type=template&id=dc146630&scoped=true&\"\nimport script from \"./IndexCard.vue?vue&type=script&lang=js&\"\nexport * from \"./IndexCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"dc146630\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"about\"},[_vm._m(0),_c('section',{staticClass:\"mb-6\"},[_c('card',{attrs:{\"card-class-name\":\"new\",\"card-title\":\"新品上市\",\"card-data\":_vm.latestProducts,\"carts\":_vm.carts}}),_c('card',{attrs:{\"card-class-name\":\"hot\",\"card-title\":\"熱銷商品\",\"card-data\":_vm.hotProduct,\"carts\":_vm.carts}})],1),_c('section',{staticClass:\"subscription bg-img\"},[_c('div',{staticClass:\"subscription-all\"},[_c('h4',{staticClass:\"subscription-title\"},[_vm._v(\"香甜傳遞\")]),_c('p',{staticClass:\"subscription-text\"},[_vm._v(\"弄甜屋每季會推出新產品以及專屬優惠碼，立即輸入信箱讓香甜傳達到您心裡！\")]),_c('form',{staticClass:\"subscription-form-group\",attrs:{\"action\":\"\"}},[_c('ValidationProvider',{ref:\"sendEDM\",staticClass:\"input-group mb-3\",attrs:{\"tag\":\"div\",\"rules\":\"required|email\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nvar classes = ref.classes;\nreturn [_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.email),expression:\"form.email\"}],staticClass:\"form-control h-100\",class:classes,attrs:{\"type\":\"email\",\"name\":\"信箱\",\"placeholder\":\"請輸入電子信箱\"},domProps:{\"value\":(_vm.form.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"email\", $event.target.value)}}}),_c('span',{staticClass:\"subscription-errormsg invalid-feedback\"},[_vm._v(_vm._s(errors[0]))]),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"large-size btn btn-main\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.preventDefault();return _vm.sendEDM($event)}}},[_vm._v(\"訂閱\")])])]}}])})],1)])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"content mb-6\"},[_c('div',{staticClass:\"carousel slide\",attrs:{\"id\":\"carouselExampleIndicators\",\"data-ride\":\"carousel\"}},[_c('div',{staticClass:\"carousel-inner\"},[_c('div',{staticClass:\"carousel-item active\"},[_c('div',{staticClass:\"bg-img img1\"})]),_c('div',{staticClass:\"carousel-item\"},[_c('div',{staticClass:\"bg-img img2\"})]),_c('div',{staticClass:\"carousel-item\"},[_c('div',{staticClass:\"bg-img img3\"})])]),_c('a',{staticClass:\"carousel-control-prev\",attrs:{\"href\":\"#carouselExampleIndicators\",\"role\":\"button\",\"data-slide\":\"prev\"}},[_c('span',{staticClass:\"carousel-control-prev-icon\",attrs:{\"aria-hidden\":\"true\"}}),_c('span',{staticClass:\"sr-only\"},[_vm._v(\"Previous\")])]),_c('a',{staticClass:\"carousel-control-next\",attrs:{\"href\":\"#carouselExampleIndicators\",\"role\":\"button\",\"data-slide\":\"next\"}},[_c('span',{staticClass:\"carousel-control-next-icon\",attrs:{\"aria-hidden\":\"true\"}}),_c('span',{staticClass:\"sr-only\"},[_vm._v(\"Next\")])])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"about\">\n    <section class=\"content mb-6\">\n      <div id=\"carouselExampleIndicators\" class=\"carousel slide\" data-ride=\"carousel\">\n        <div class=\"carousel-inner\">\n          <div class=\"carousel-item active\">\n            <div class=\"bg-img img1\"></div>\n          </div>\n          <div class=\"carousel-item\">\n            <div class=\"bg-img img2\"></div>\n          </div>\n          <div class=\"carousel-item\">\n            <div class=\"bg-img img3\"></div>\n          </div>\n        </div>\n        <a class=\"carousel-control-prev\" href=\"#carouselExampleIndicators\"\n          role=\"button\" data-slide=\"prev\">\n          <span class=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\n          <span class=\"sr-only\">Previous</span>\n        </a>\n        <a class=\"carousel-control-next\" href=\"#carouselExampleIndicators\"\n          role=\"button\" data-slide=\"next\">\n          <span class=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\n          <span class=\"sr-only\">Next</span>\n        </a>\n      </div>\n    </section>\n    <section class=\"mb-6\">\n      <card card-class-name=\"new\" card-title=\"新品上市\" :card-data=\"latestProducts\" :carts=\"carts\"></card>\n      <card card-class-name=\"hot\" card-title=\"熱銷商品\" :card-data=\"hotProduct\" :carts=\"carts\"></card>\n    </section>\n    <section class=\"subscription bg-img\">\n      <div class=\"subscription-all\">\n          <h4 class=\"subscription-title\">香甜傳遞</h4>\n          <p class=\"subscription-text\">弄甜屋每季會推出新產品以及專屬優惠碼，立即輸入信箱讓香甜傳達到您心裡！</p>\n            <form action=\"\" class=\"subscription-form-group\">\n              <ValidationProvider ref=\"sendEDM\" tag=\"div\" rules=\"required|email\" v-slot=\"{ errors, classes }\" class=\"input-group mb-3\">\n                <input type=\"email\" class=\"form-control h-100\" :class=\"classes\"\n                name=\"信箱\" placeholder=\"請輸入電子信箱\" v-model=\"form.email\">\n                <span class=\"subscription-errormsg invalid-feedback\">{{errors[0]}}</span>\n                <div class=\"input-group-append\">\n                  <button type=\"button\" class=\"large-size btn btn-main\" @click.prevent=\"sendEDM\">訂閱</button>\n                </div>\n              </ValidationProvider>\n            </form>\n      </div>\n    </section>\n  </div>\n</template>\n<script>\nimport card from '../../components/IndexCard.vue';\n\nexport default {\n  props: ['carts'],\n  components: {\n    card,\n  },\n  data() {\n    return {\n      tempProduct: {},\n      hotProduct: {},\n      latestProducts: {},\n      form: {\n        email: '',\n      },\n    };\n  },\n  mounted() {\n    this.getProduct();\n  },\n  methods: {\n    getProduct() { // 讀取所有商品資料\n      this.$store.dispatch('updateLoading', true);\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_UUID}/ec/products`;\n      this.$http.get(api)\n        .then((res) => {\n          this.tempProduct = res.data.data;\n          this.latestProducts = this.tempProduct.slice(0, 5);\n          this.hotProduct = this.tempProduct.filter((item) => item.options.isHot);\n          this.$store.dispatch('updateLoading', false);\n        })\n        .catch(() => {\n          this.$toast.error('資料讀取異常，請洽客服人員', { icon: 'fas fa-times' });\n        });\n    },\n    sendEDM() { // 訂閱\n      if (this.$refs.sendEDM.errors.length === 0 && this.form.email !== '') {\n        this.$toast.success('電子報傳送成功');\n        this.form.email = '';\n        this.$refs.sendEDM.reset();\n      }\n    },\n  },\n};\n</script>\n<style lang=\"scss\">\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=f788efc4&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('slice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n"],"sourceRoot":""}