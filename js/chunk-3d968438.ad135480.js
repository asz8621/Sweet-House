(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3d968438"],{"129f":function(t,a){t.exports=Object.is||function(t,a){return t===a?0!==t||1/t===1/a:t!=t&&a!=a}},"37c6":function(t,a,n){"use strict";n.r(a);var s=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"content search-page"},[n("div",{staticClass:"container py-5"},[n("div",{staticClass:"row pb-md-5"},[t.searchProducts.length>0?[n("div",{staticClass:"col-12 alert alert-primary"},[t._v("搜尋「"+t._s(this.$route.params.searchName)+"」，總共有 "+t._s(t.searchProducts.length)+" 項搜尋結果")]),t._l(t.searchProducts,(function(a){return n("div",{key:a.id,staticClass:"col-6 col-md-3 mb-3"},[n("router-link",{attrs:{to:"/product/"+a.id}},[n("img",{staticClass:"img-fluid",attrs:{src:a.imageUrl[0],alt:""}})]),n("h2",{staticClass:"title my-3"},[t._v(t._s(a.title))]),n("div",{staticClass:"price mb-3 text-right"},[t._v("NT$ "+t._s(t._f("thousands")(a.price)))]),n("div",{staticClass:"single-features-btnw",style:{right:t.btnLoading===a.id?"2px":""}},[n("button",{staticClass:"addcart large-size btn btn-main w-100",attrs:{type:"button",disabled:""!==t.btnLoading},on:{click:function(n){return n.preventDefault(),t.addCart(a.id)}}},[n("span",{staticClass:"addcart-text1"},[t._v("加入購物車")]),t.btnLoading===a.id?n("div",{staticClass:"spinner-border spinner-border-sm ml-2",attrs:{role:"status"}},[n("span",{staticClass:"sr-only"},[t._v("Loading...")])]):t._e()])])],1)}))]:[n("div",{staticClass:"col-12 alert alert-danger"},[n("span",[t._v("搜尋「"+t._s(this.$route.params.searchName)+"」，找不到任何東西。")]),n("br"),n("span",[t._v("請使用其他的關鍵字再試一次，也可以前往 "),n("router-link",{attrs:{to:"/products"}},[t._v("所有產品")]),t._v(" 來查看所有商品。")],1)])]],2)])])},r=[],i=(n("99af"),n("4de4"),n("b0c0"),n("ac1f"),n("466d"),n("841c"),{props:["carts"],data:function(){return{searchProducts:{},btnLoading:""}},created:function(){this.getProducts()},watch:{$route:function(t,a){t.name===a.name&&this.getProducts()}},methods:{getProducts:function(){var t=this,a=this.$route.params.searchName;if(a){this.$store.dispatch("updateLoading",!0);var n="".concat("https://course-ec-api.hexschool.io","/api/").concat("fafb5ae3-81cd-4ad3-9cd2-824d4284b57c","/ec/products");this.$http.get(n).then((function(n){t.searchProducts=n.data.data.filter((function(t){return t.title.match(a)})),console.log(t.searchProducts),t.$store.dispatch("updateLoading",!1)})).catch((function(){t.$store.dispatch("updateLoading",!1),t.$toast.error("資料讀取異常，請洽客服人員",{icon:"fas fa-times"})})),this.searchName="",this.search=!1,this.$router.push("/search/q=".concat(a))}},addCart:function(t){var a=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.btnLoading=t;var s="".concat("https://course-ec-api.hexschool.io","/api/").concat("fafb5ae3-81cd-4ad3-9cd2-824d4284b57c","/ec/shopping"),r="post",i=n,e="add",c=this.carts.filter((function(a){return t===a.product.id}));c.length>0&&(r="patch",i+=c[0].quantity,e="edit");var o={product:t,quantity:i};this.$http[r](s,o).then((function(){a.$bus.$emit("getcart",e),a.btnLoading=""})).catch((function(t){a.$toast.error("".concat(t.response.data.errors),{icon:"fas fa-times"}),a.btnLoading=""}))}}}),e=i,c=n("2877"),o=Object(c["a"])(e,s,r,!1,null,null,null);a["default"]=o.exports},"466d":function(t,a,n){"use strict";var s=n("d784"),r=n("825a"),i=n("50c4"),e=n("1d80"),c=n("8aa5"),o=n("14c3");s("match",1,(function(t,a,n){return[function(a){var n=e(this),s=void 0==a?void 0:a[t];return void 0!==s?s.call(a,n):new RegExp(a)[t](String(n))},function(t){var s=n(a,t,this);if(s.done)return s.value;var e=r(t),d=String(this);if(!e.global)return o(e,d);var u=e.unicode;e.lastIndex=0;var l,h=[],p=0;while(null!==(l=o(e,d))){var f=String(l[0]);h[p]=f,""===f&&(e.lastIndex=c(d,i(e.lastIndex),u)),p++}return 0===p?null:h}]}))},"841c":function(t,a,n){"use strict";var s=n("d784"),r=n("825a"),i=n("1d80"),e=n("129f"),c=n("14c3");s("search",1,(function(t,a,n){return[function(a){var n=i(this),s=void 0==a?void 0:a[t];return void 0!==s?s.call(a,n):new RegExp(a)[t](String(n))},function(t){var s=n(a,t,this);if(s.done)return s.value;var i=r(t),o=String(this),d=i.lastIndex;e(d,0)||(i.lastIndex=0);var u=c(i,o);return e(i.lastIndex,d)||(i.lastIndex=d),null===u?-1:u.index}]}))},b0c0:function(t,a,n){var s=n("83ab"),r=n("9bf2").f,i=Function.prototype,e=i.toString,c=/^\s*function ([^ (]*)/,o="name";s&&!(o in i)&&r(i,o,{configurable:!0,get:function(){try{return e.call(this).match(c)[1]}catch(t){return""}}})}}]);
//# sourceMappingURL=chunk-3d968438.ad135480.js.map