(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-48e7d424"],{"0542":function(t,a,s){},"0fd0":function(t,a,s){"use strict";s.r(a);var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[s("div",{staticClass:"container py-5"},[s("Breadcrumb",{attrs:{productTitle:t.product.title}}),s("div",{staticClass:"row pb-md-5"},[s("div",{staticClass:"col-md-6 col-lg-5 mb-4"},[s("img",{staticClass:"img-fluid mb-2",attrs:{src:t.product.imageUrl,alt:""}})]),s("div",{staticClass:"col-md-6 col-lg-7 mb-4"},[s("div",{staticClass:"product"},[s("h1",{staticClass:"product-title"},[t._v(t._s(t.product.title))]),s("div",{staticClass:"price"},[s("div",{staticClass:"small-text mb-1"},[t._v("建議售價")]),s("span",{staticClass:"onSale mr-2"},[t._v("NT$ "+t._s(t._f("thousands")(t.product.price)))]),t.product.price!==t.product.origin_price?s("span",{staticClass:"original"},[t._v("NT$ "+t._s(t._f("thousands")(t.product.origin_price)))]):t._e()]),s("div",{staticClass:"format"},[s("div",{staticClass:"small-text mb-1"},[t._v("規格")]),s("div",{staticClass:"d-flex"},[s("span",{staticClass:"format-text"},[t._v(t._s(t.product.unit))])])]),s("div",{staticClass:"qty"},[s("div",{staticClass:"small-text mb-1"},[t._v("數量")]),s("div",{staticClass:"qty-counter d-flex"},[s("button",{staticClass:"btn btn-compute less",attrs:{type:"button",disabled:t.quantity<=1||""!==t.status.btnLoading},on:{click:function(a){t.quantity--}}},[s("i",{staticClass:"fas fa-minus"})]),s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.quantity,expression:"quantity",modifiers:{number:!0}}],staticClass:"text-center qty-num",attrs:{type:"number",min:"1",max:"99",value:"1",disabled:t.quantity<1||""!==t.status.btnLoading},domProps:{value:t.quantity},on:{change:t.verifyQuantity,input:function(a){a.target.composing||(t.quantity=t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}}),s("button",{staticClass:"btn btn-compute plus",attrs:{type:"button",disabled:t.quantity<1||""!==t.status.btnLoading},on:{click:function(a){t.quantity++}}},[s("i",{staticClass:"fas fa-plus"})])]),s("div",{staticClass:"features-btn-group"},[s("button",{staticClass:"addcart large-size btn btn-outline-main w-100 mr-3",attrs:{type:"button",disabled:t.quantity<1||""!==t.status.btnLoading},on:{click:function(a){return a.preventDefault(),t.addCart(t.product.id,t.quantity,"add")}}},[t._v(" 加入購物車 "),t.status.btnLoading!==t.product.id||t.status.isBuy?t._e():s("div",{staticClass:"spinner-border spinner-border-sm ml-2",attrs:{role:"status"}},[s("span",{staticClass:"sr-only"},[t._v("Loading...")])])]),s("button",{staticClass:"buycart large-size btn btn-main w-100",attrs:{type:"button",disabled:t.quantity<1||""!==t.status.btnLoading},on:{click:function(a){a.preventDefault(),t.addCart(t.product.id,t.quantity,"buy"),t.status.isBuy=!t.status.isBuy}}},[t._v(" 立即購買 "),t.status.btnLoading===t.product.id&&t.status.isBuy?s("div",{staticClass:"spinner-border spinner-border-sm ml-2",attrs:{role:"status"}},[s("span",{staticClass:"sr-only"},[t._v("Loading...")])]):t._e()])])])])])]),s("div",{staticClass:"row pb-md-5"},[s("div",{staticClass:"col"},[s("div",{staticClass:"product-details"},[s("ul",{staticClass:"product-tab-menu mb-3",attrs:{id:"tab-menu"}},[s("li",{staticClass:"product-tab-item",class:{active:"tab1"===t.tab},on:{click:function(a){t.tab="tab1"}}},[s("span",{staticClass:"product-tab-link cursor-pointer p-3"},[t._v("商品介紹")])]),s("li",{staticClass:"product-tab-item",class:{active:"tab2"===t.tab},on:{click:function(a){t.tab="tab2"}}},[s("span",{staticClass:"product-tab-link cursor-pointer p-3"},[t._v("規格說明")])]),s("li",{staticClass:"product-tab-item",class:{active:"tab3"===t.tab},on:{click:function(a){t.tab="tab3"}}},[s("span",{staticClass:"product-tab-link cursor-pointer p-3"},[t._v("訂購需知")])])]),s("ul",{staticClass:"product-tab-description",attrs:{id:"tab-content"}},[s("transition",{attrs:{name:"fade-tab",mode:"out-in"}},["tab1"===t.tab?s("li",{key:"tab1",staticClass:"product-tab-content p-3",domProps:{innerHTML:t._s(t.product.content)}}):t._e(),"tab2"===t.tab?s("li",{key:"tab2",staticClass:"product-tab-content p-3",domProps:{innerHTML:t._s(t.product.description)}}):t._e(),"tab3"===t.tab?s("li",{key:"tab3",staticClass:"product-tab-content p-3"},[s("div",{staticClass:"delivery"},[s("div",{staticClass:"delivery-title text-danger pb-3"},[t._v("蛋糕相關商品下單前請您務必詳讀以下兩點：")]),s("ol",{staticClass:"mb-6"},[s("li",{staticClass:"mb-3"},[t._v("運送過程有可能造成蛋糕上的食材位移或毀損，但宅配方與我方並不賠償蛋糕運送途中所造成的毀損，所以請您評估宅配相關風險後再訂購。我們還是建議門市自取的方式，也不用另外支付運費喔！")]),s("li",{staticClass:"mb-3"},[t._v("新鮮水果類，擺放時會因大小而造成顆數有所不同，與商品照片有落差，以實際出貨商品為主，然而運送過程，有可能造成蛋糕位移或毀損情形，煩請評估宅配相關風險再訂購，避免爭議發生。")])]),s("div",{staticClass:"delivery-title text-danger pb-3"},[t._v("【訂購需知】")]),s("ol",[s("li",{staticClass:"mb-3"},[t._v("出貨方式：自取或低溫宅配寄出，收到時請放冷藏回溫後再食用。")]),s("li",{staticClass:"mb-3"},[t._v("保存方式： "),s("ul",[s("li",[t._v("蛋糕相關商品冷藏保存二至三天，建議盡早食用完畢，以保最佳風味。")]),s("li",[t._v("其餘商品建議二至三天食用完畢，以保最佳風味。")])])]),s("li",{staticClass:"mb-3"},[t._v("食品因保存期限及衛生考量，恕不適用七天鑑賞期。")]),s("li",{staticClass:"mb-3"},[t._v("付款後若需更動訂單（如：改期、取消或調整數量），請於取貨日前三日告知。")])])])]):t._e()])],1)])])]),s("card",{attrs:{"card-class-name":"similar","card-title":"類似商品","card-data":t.otherProducts,carts:t.carts},on:{jumpProductEmit:t.jumpProduct}})],1)])},e=[],r=(s("99af"),s("4de4"),s("2fbc")),c=s("9fc6"),n={components:{Breadcrumb:r["a"],card:c["a"]},props:["carts"],data:function(){return{product:{options:{format:[]}},category:"",otherProducts:[],quantity:1,status:{btnLoading:"",isBuy:!1},tab:"tab1"}},created:function(){this.getProduct()},methods:{getProduct:function(){var t=this;this.$store.dispatch("updateLoading",!0);var a=this.$route.params.id,s="".concat("https://course-ec-api.hexschool.io","/api/").concat("fafb5ae3-81cd-4ad3-9cd2-824d4284b57c","/ec/product/").concat(a);this.$http.get(s).then((function(a){t.product=a.data.data,t.category=t.product.category,t.getOtherProducts(),t.$store.dispatch("updateLoading",!1)})).catch((function(){t.$store.dispatch("updateLoading",!1),t.$toast.error("資料讀取異常，請洽客服人員",{icon:"fas fa-times"})}))},getOtherProducts:function(){var t=this;this.$store.dispatch("updateLoading",!0),this.otherProducts=[];var a="".concat("https://course-ec-api.hexschool.io","/api/").concat("fafb5ae3-81cd-4ad3-9cd2-824d4284b57c","/ec/products");this.$http.get(a).then((function(a){t.otherProducts=a.data.data.filter((function(a){return a.category===t.category&&a.id!==t.product.id})),t.$store.dispatch("updateLoading",!1)})).catch((function(){t.$toast.error("資料讀取異常，請洽客服人員",{icon:"fas fa-times"}),t.$store.dispatch("updateLoading",!1)}))},jumpProduct:function(t){t&&(this.$router.push("/product/".concat(t)),this.getProduct(),this.getOtherProducts())},verifyQuantity:function(){var t=/^[1-9]+[0-9]*]*$/;(this.quantity<1||!t.test(this.quantity))&&(this.quantity=1)},addCart:function(t){var a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2?arguments[2]:void 0,e=i;this.status.btnLoading=t;var r="".concat("https://course-ec-api.hexschool.io","/api/").concat("fafb5ae3-81cd-4ad3-9cd2-824d4284b57c","/ec/shopping"),c="post",n=s,o=this.carts.filter((function(a){return t===a.product.id}));o.length>0&&(c="patch",n+=o[0].quantity,e="edit");var d={product:t,quantity:n};this.$http[c](r,d).then((function(){"add"===i&&(a.$bus.$emit("getcart",e),a.status.btnLoading=""),"buy"===i&&(a.$bus.$emit("getcart"),a.status.btnLoading="",a.$router.push("/checkout"))})).catch((function(t){a.$toast.error("".concat(t.response.data.errors),{icon:"far fa-times-circle"}),a.status.btnLoading=""}))}}},o=n,d=s("2877"),l=Object(d["a"])(o,i,e,!1,null,null,null);a["default"]=l.exports},"28e0":function(t,a,s){"use strict";s("0542")},"2fbc":function(t,a,s){"use strict";var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{class:{"breadcrumb-top":t.paddingTop}},[s("nav",{attrs:{"aria-label":"breadcrumb"}},[s("ol",{staticClass:"breadcrumb px-0 bg-white"},[s("li",{staticClass:"breadcrumb-item"},[s("router-link",{attrs:{to:"/"}},[s("i",{staticClass:"fas fa-home text-main"})])],1),s("li",{staticClass:"breadcrumb-item",class:{active:!t.deepLink}},[t.deepLink?s("router-link",{staticClass:"text-main",attrs:{to:"/products"}},[t._v("全部產品")]):s("span",[t._v(t._s(this.$route.name))])],1),t.deepLink?s("li",{staticClass:"breadcrumb-item active",class:{active:t.deepLink},attrs:{"aria-current":"page"}},[t._v(" "+t._s(t.productTitle)+" ")]):t._e()])])])},e=[],r=(s("b0c0"),{props:["productTitle","paddingTop"],data:function(){return{product:[],deepLink:!1}},mounted:function(){this.links(this.$route.name)},methods:{links:function(t){this.deepLink="Product"===t}}}),c=r,n=(s("28e0"),s("2877")),o=Object(n["a"])(c,i,e,!1,null,null,null);a["a"]=o.exports},"9fc6":function(t,a,s){"use strict";var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("section",{class:"similar"!==t.cardClassName?"p-4":""},[s("div",{staticClass:"container"},[s("div",{staticClass:"headline py-4"},[s("h2",[t._v(t._s(t.cardTitle))]),"similar"!==t.cardClassName?s("a",{staticClass:"large-size headline-link btn btn-outline-main",attrs:{href:"#"},on:{click:function(a){return t.$router.push("products")}}},[t._v("更多商品")]):t._e(),s("hr",{staticClass:"headline-bottom"})])]),s("div",{staticClass:"container"},[s("div",{staticClass:"swiper-card"},[t.cardData.length?s("swiper",{staticClass:"swiper",attrs:{options:"similar"!==t.cardClassName?t.indexSwiperOption:t.similarSwiperOption}},[t._l(t.cardData,(function(a){return s("swiper-slide",{key:""+a.id+t.cardClassName},[s("div",{staticClass:"swiper-card-body"},[s("div",{staticClass:"card-img cursor-pointer",on:{click:function(s){return t.getProduct(a.id,t.cardClassName)}}},[s("img",{staticClass:"img-fluid",attrs:{src:a.imageUrl[0],alt:""}})]),s("h4",{staticClass:"swiper-card-title"},[t._v(t._s(a.title))]),s("div",{staticClass:"swiper-card-price"},[s("span",{staticClass:"narrow"},[t._v("NT$")]),t._v(t._s(t._f("thousands")(a.price))+" ")]),s("button",{staticClass:"large-size btn btn-main w-100 d-flex justify-content-center align-items-center",attrs:{type:"button",disabled:""!==t.status.btnLoading},on:{click:function(s){return s.preventDefault(),t.addCart(a.id)}}},[s("span",[t._v("加入購物車")]),t.status.btnLoading===a.id?s("div",{staticClass:"spinner-border spinner-border-sm ml-2",attrs:{role:"status"}},[s("span",{staticClass:"sr-only"},[t._v("Loading...")])]):t._e()])])])})),"similar"!==t.cardClassName?s("div",{staticClass:"swiper-pagination",class:t.cardClassName+"-pagination",attrs:{slot:"pagination"},slot:"pagination"}):t._e()],2):t._e(),"similar"!==t.cardClassName?s("div",{staticClass:"swiper-button-prev",class:t.cardClassName+"-prev",attrs:{slot:"button-prev"},slot:"button-prev"}):t._e(),"similar"!==t.cardClassName?s("div",{staticClass:"swiper-button-next",class:t.cardClassName+"-next",attrs:{slot:"button-next"},slot:"button-next"}):t._e()],1)])])},e=[],r=(s("99af"),s("4de4"),{props:["cardClassName","cardData","cardTitle","carts"],data:function(){return{status:{btnLoading:""},similarSwiperOption:{slidesPerView:1,slidesPerGroup:1,loopFillGroupWithBlank:!0,breakpoints:{991:{slidesPerView:4,slidesPerGroup:4},768:{slidesPerView:3,slidesPerGroup:3},540:{slidesPerView:2,slidesPerGroup:2}}},indexSwiperOption:{slidesPerView:1,slidesPerGroup:1,loop:!0,loopFillGroupWithBlank:!0,breakpoints:{991:{slidesPerView:4,slidesPerGroup:4},768:{slidesPerView:3,slidesPerGroup:3},540:{slidesPerView:2,slidesPerGroup:2}},pagination:{el:".".concat(this.cardClassName,"-pagination"),clickable:!0},navigation:{nextEl:".".concat(this.cardClassName,"-next"),prevEl:".".concat(this.cardClassName,"-prev")}}}},methods:{addCart:function(t){var a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.status.btnLoading=t;var i="".concat("https://course-ec-api.hexschool.io","/api/").concat("fafb5ae3-81cd-4ad3-9cd2-824d4284b57c","/ec/shopping"),e="post",r=s,c="add",n=this.carts.filter((function(a){return t===a.product.id}));n.length>0&&(e="patch",r+=n[0].quantity,c="edit");var o={product:t,quantity:r};this.$http[e](i,o).then((function(){a.$bus.$emit("getcart",c),a.status.btnLoading=""})).catch((function(t){a.$toast.error("".concat(t.response.data.errors),{icon:"fas fa-times"}),a.status.btnLoading=""}))},getProduct:function(t,a){"similar"===a?this.$emit("jumpProductEmit",t):this.$router.push("/product/".concat(t))}}}),c=r,n=s("2877"),o=Object(n["a"])(c,i,e,!1,null,"dc146630",null);a["a"]=o.exports},b0c0:function(t,a,s){var i=s("83ab"),e=s("9bf2").f,r=Function.prototype,c=r.toString,n=/^\s*function ([^ (]*)/,o="name";i&&!(o in r)&&e(r,o,{configurable:!0,get:function(){try{return c.call(this).match(n)[1]}catch(t){return""}}})}}]);
//# sourceMappingURL=chunk-48e7d424.18bcfc9b.js.map